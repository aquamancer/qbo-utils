# Invoice Matcher for Procurement Integrated Enterprise Environment (PIEE) Wide Area Workflow (WAWF) 
## Overview
Automatically matches payments from WAWF .csv with invoices on QuickBooks Online.
## Requirements
* preferences.json in .jar directory
* TPI Uploader (or similar software) for uploading
### preferences.json fields (all required; refer to *File Structure*)
**rootDirName: String** | name of the parent directory of input file directories.  
**absolutePath: String** | absolute path to the directory containing *rootDirName* directory. This is where the export files will be placed.  
**bankDepositDir: String** | name of directory containing any number of bank deposit .csv files generated by QuickBooks Online.
**myInvoiceDir: String** | name of directory containing any number of WAWF myInvoice .csv files.  
**invoicesUnpaidDir: String** | name of directory containing **exactly one** invoices unpaid .csv file generated by QuickBooks Online.  
**bankDepositDescriptionFilterRegex: String[]** | any number of regexes to match bank deposit description column in bank deposits .csv files.

### File Structure:
    absolutePath
        rootDirName
            {IMPORTS}
            bankDepositDir
                <any number of .csv files for bank deposits with any name>
            myInvoiceDir
                <any number of .csv files for myInvoice (fragments) with any name>
            invoicesUnpaidDir
                <one .csv file for invoices unpaid with any name>

            {EXPORTS}
            summary.log
            paymentsuploader.csv
            depositsuploader.csv
            payments-errors.csv
            deposits-errors.csv

### Example preferences.json:
    {
      "rootDirName": "Input-files",

      "absolutePath": "absolute/path/to/directory/containing/rootDirName",
      "bankDepositDir": "bank-deposits",
      "myInvoiceDir": "myinvoice",
      "invoicesUnpaidDir": "invoices-unpaid",

      "bankDepositDescriptionFilterRegex": [
        "regex1",
        "ORregex2",
        "ORregex3"
      ]
    }
## Usage
1. Put and complete preferences.json in the same directory of the .jar file
2. Put all input files in their respective folder
3.     /path/to/jar:~$ java -jar jarName.jar